<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>web chat</title>
</head>
<body>

<input type="button" value="连接"/>
<input type="button" value="断开"/>
<script>

    /* https://www.cnblogs.com/1wen/p/5808276.html */

    let ws = null;
    let wsUrl = "ws://" + window.location.host + "/chat.ws";

    if ("WebSocket" in window) {
        ws = new WebSocket(wsUrl);

        ws.onopen = (ev) => {
            console.log('open connected');
            ws.send("ping")
        };
        ws.onmessage = (ev) => {
            console.log('message event')
        };
        ws.onclose = (ev) => {
            console.log('close event');
        };
        ws.onerror = (ev) => {
            console.log('error event')
        };
    }

</script>
</body>
</html>